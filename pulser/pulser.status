#! /usr/bin/env bash

N=2

if [ ! -x $1 ]; then
    N=$1
fi

for I in `cat <<EOF
SOURCE${N}:FUNCTION:SHAPE?
SOURCE${N}:FREQUENCY?
SOURCE${N}:PULSE:WIDTH?
SOURCE${N}:PULSE:HOLD?
SOURCE${N}:PULSE:TRANSITION:LEADING?
SOURCE${N}:PULSE:TRANSITION:TRAILING?
SOURCE${N}:PULSE:DELAY?
SOURCE${N}:VOLTAGE:LOW?
SOURCE${N}:VOLTAGE:HIGH?
OUTPUT${N}:POLARITY?
OUTPUT${N}:STATE?
EOF`; do
    val=$(/au/pulser/pulser_cmd.py "$I")
    echo "$I $val"
done
